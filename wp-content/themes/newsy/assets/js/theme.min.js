"use strict";function _debounce(a,i,o){var s;return function(){var t=this,e=arguments,n=o&&!s;clearTimeout(s),s=setTimeout(function(){s=null,o||a.apply(t,e)},i),n&&a.apply(t,e)}}!function(c){function n(t,e){var n=this;this.options=e,n.window=c(window),n.element=c(t),n.menu=n.element.children("ul.ak-menu"),n.totalSpace=0,n.breakWidths=[],n.timer=null,n.init()}c.extend(n.prototype,{init:function(){var n=this;n.menu.children(".menu-item").each(function(t,e){n.totalSpace+=c(this).outerWidth(!0),n.breakWidths.push({i:n.totalSpace,ref:this})}),n.menu.append('<li class="menu-item menu-item-toogle"><a href="javascript:void(0)"><i class="ak-icon fa fa-ellipsis-h" aria-hidden="true"></i></a><ul class="sub-menu ak-anim ak-anim-slide-in-down"></ul></li>'),n.check(),n.initEvents(),n.element.addClass("loaded")},getParantChildrenDiffWidth:function(t){for(var e=0,n=c(t).children(":not(.loaded)"),a=0;a<n.length;a++)e+=c(n[a]).outerWidth(!0);return e},check:function(){var t=this,n=!1,a=t.menu.children(".menu-item-toogle"),i=a.children(".sub-menu"),e=t.element.parent().outerWidth(),o=t.totalSpace,s=t.menu.outerWidth(!0),o=s<o?a.outerWidth(!0):0,r=e-Math.abs(e-s)-o-t.options.threshold;t.breakWidths.forEach(function(t,e){t.i>r?(c(t.ref).prependTo(i),n=!0):r>t.i&&c(t.ref).insertBefore(a)}),n?(a.addClass("menu-last-of-type").removeClass("hidden"),a.prev().removeClass("menu-last-of-type")):(a.removeClass("menu-last-of-type").addClass("hidden"),a.prev().addClass("menu-last-of-type"))},initEvents:function(){var t=this,e=_debounce(function(){t.check()},t.options.resize_delay);t.window.on("resize",e)}}),c.fn.Ak_More_Menu=function(t){var e={threshold:0,resize_delay:10};return t=t?c.extend(e,t):c.extend(e),this.each(function(){c.data(this,"Plugin_Ak_More_Menu")||c.data(this,"Plugin_Ak_More_Menu",new n(this,t))})}}(jQuery),function(h){window.newsy=window.newsy||{};var m=h("body"),c=h(window),a=m.hasClass("admin-bar"),r=h("body").hasClass("logged-in");window.newsy.main={$document:h(document),init:function(){this.dark_mode(),this.setup_menu(),this.init_more_menu(),this.tabbed_mega_menu(),this.setup_responsive_header(),this.init_sticky_columns(),this.init_header_sticky(),this.back_to_top(),this.small_actions(),this.woo_commerce()},dark_mode:function(){for(var t=h(".ak-dark-mode-toggle"),n=void 0===newsy_loc.site_slug?"/":newsy_loc.site_slug,a=void 0===newsy_loc.site_domain?window.location.hostname:newsy_loc.site_domain,e=window.location,e=new URL(e),i=e.searchParams.get("vc_editable"),o=e.searchParams.get("elementor-preview"),s=[],r=[],c=[],l=[],d=[h(".ak-bar:not(.ak-bar-dark) .ak-logo-image"),h(".ak-off-canvas-nav .ak-logo-image")],u=d.length,e=function(t){t=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return t?t[2]:null}("darkmode"),p=0;p<u;p++)s[p]=d[p].find("img.site-logo").attr("data-light-src"),r[p]=d[p].find("img.site-logo").attr("data-light-srcset"),c[p]=d[p].find("img.site-logo").attr("data-dark-src"),l[p]=d[p].find("img.site-logo").attr("data-dark-srcset");t.on("change",function(){null===i&&null===o&&function(t){if(t.is(":checked")){m.addClass("dark");for(var e=0;e<u;e++)d[e].find(".site-logo").attr({src:c[e],srcset:l[e]});document.cookie="darkmode = true;path = "+n+";domain = "+a}else if(!t.is(":checked")){m.removeClass("dark");for(e=0;e<u;e++)d[e].find(".site-logo").attr({src:s[e],srcset:r[e]});document.cookie="darkmode = false;path = "+n+";domain = "+a}}(h(this))}),"true"===e?(t.prop("checked",!0).trigger("change"),document.cookie="darkmode = true;path = "+n+";domain = "+a):"false"===e&&(t.prop("checked",!1).trigger("change"),document.cookie="darkmode = false;path = "+n+";domain = "+a)},setup_responsive_header:function(t){var a=!1,n=h("#ak_drawer_holder"),i=0<n.length,e=".ak-header-menu-handler",o="ak-off-canvas-menu-open";function s(){h(".ak-off-canvas-close").on("click",function(t){t.preventDefault(),m.removeClass(o)}),h(".ak-off-canvas-overlay").on("click",function(t){t.preventDefault(),m.removeClass(o)})}function r(e){a||(a=!0,h.ajax({url:ak_ajax_url,type:"POST",dataType:"json",data:{action:"ajax_drawer_content",nonce:newsy_loc.nonce},success:function(t){t.success?(n.html(t.html),s(),e&&e(t)):a=!1},error:function(){a=!1}}))}void 0===t&&(t=m),h(e).on("click",function(t){var e,n;t.preventDefault(),t.stopPropagation(),e=this,i&&!a?(n="ak-anim ak-anim-pulse infinite",h(e).addClass(n),r(function(t){setTimeout(function(){m.toggleClass(o),h(e).removeClass(n)},50)})):(m.toggleClass(o),a||(a=!0,s()))}),i&&(t=function(){h(window).width()<992&&!a&&r()},h(e).on("mouseover",function(t){t.preventDefault(),r()}),t(),t=_debounce(t,500),c.on("resize",t))},setup_menu:function(t){void 0===t&&(t=h("body")),h(t,".ak-menu").superfish({popUpSelector:".sub-menu,.ak-mega-menu",speed:150,delay:500,autoArrows:!1,hoverClass:"menu-entered"})},tabbed_mega_menu:function(){h(".ak-mega-tabbed-posts li a.ak-tab-btn").on("mouseenter",function(t){t.preventDefault(),h(this).trigger("click")})},init_more_menu:function(){h(".ak-menu-more-enabled").Ak_More_Menu()},small_actions:function(){h(".ak-dropdown-button").each(function(t){var e,n=h(this),a=n.next(".ak-dropdown"),i=n.parent(),o=a.data("event")||"click";0<a.length&&(e=function(t){t.preventDefault(),i.hasClass("ak-dropdown-expanded")?(i.removeClass("ak-dropdown-expanded"),a.find("input").trigger("focus")):(h(".ak-dropdown-expanded").removeClass("ak-dropdown-expanded"),i.addClass("ak-dropdown-expanded"),a.find("input").trigger("focusout"))},i.addClass("ak-dropdown-container"),"hover"===o?(n.on("mouseenter",e),a.on("mouseleave",_debounce(function(t){i.removeClass("ak-dropdown-expanded")},100))):n.on(o,e))}),h(document).on("mouseup",function(t){h(".ak-dropdown-container").length&&0<!h(t.target).parents(".ak-dropdown-container").length&&h(".ak-dropdown-container").removeClass("ak-dropdown-expanded")}),h(".remember-label").on("click",function(){h(this).siblings("input[type=checkbox]").trigger("click")}),h(".modal-step-container .go-modal-step").on("click",function(t){t.preventDefault();var e=h(this),t=e.data("modal-step");e.parents(".modal-step-container").find(".modal-step-page").removeClass("modal-current-step"),h("."+t).addClass("modal-current-step").addClass("ak-anim ak-anim-slide-in-right");t=h.magnificPopup.instance;t&&t.updateItemHTML()}),h(".ak-post-meta-comment a").on("click",function(t){t.preventDefault(),h("body,html").animate({scrollTop:h("form.comment-form").offset().top-100},1e3)}),r||h(".ak_require_login_button").on("click",function(t){t.preventDefault(),t.stopPropagation(),newsy.auth.show_login()})},init_header_sticky:function(){var n=0,a=h(".ak-header-wrap").outerHeight(),i=h(".ak-header-sticky-wrap");0<i.length&&h(window).on("scroll",function(){var t,e=i.find(".ak-sticky-bar");0<e.length&&(t=h(this).scrollTop(),a<t?(e.addClass("sticky-active"),e.css("max-width",i.outerWidth()+"px")):e.removeClass("sticky-active"),i.hasClass("sticky-smart")&&(n<t&&a<t?e.addClass("sticky-down"):e.removeClass("sticky-down"),n=t))})},init_sticky_columns:function(){var t,e,n;!h.fn.theiaStickySidebar||h(window).width()<768||(t=a?50:10,h(".ak-header-sticky-wrap").hasClass("sticky-simple")&&(t+=h(".ak-sticky-bar").outerHeight()),0<h(".ak-post-sticky-wrap").length&&(t+=h(".ak-post-sticky-wrap .ak-bar").outerHeight()),e={additionalMarginTop:t,additionalMarginBottom:10,updateSidebarHeight:!1},m.hasClass("sticky-sidebars-active")&&h(".sidebar-column").theiaStickySidebar(e),h(".sticky-column").theiaStickySidebar(e),n=!1,h(window).on("resize",function(){window.innerWidth<=780?(n=!0,h(".sticky-column, .sidebar-column").theiaStickySidebar("destroy").removeAttr("style")):n&&(h(".sticky-column, .sidebar-column").theiaStickySidebar(e),n=!1)}))},back_to_top:function(){var t=h(".ak-back-top");newsy_loc.back_to_top&&0!==t.length&&(t.on("click",function(){h("body,html").animate({scrollTop:0},700)}),h(window).on("scroll",function(){300<h(this).scrollTop()?t.addClass("is-visible"):t.removeClass("is-visible")}))},woo_commerce:function(){h(".ak-header-cart").each(function(){h(this).hover(function(){h(this).addClass("open")},function(){h(this).removeClass("open")})}),h(document.body).on("added_to_cart removed_from_cart wc_fragments_refreshed",function(t,e,n){void 0!==e["total-items-in-cart"]&&1<=h(".ak-header-cart").length?h(".ak-header-cart .count").html(e["total-items-in-cart"]):setTimeout(function(){var e=0;h(".ak-header-cart .cart_list>li").each(function(){var t=h(this).find(".quantity").text().split(" Ã—")[0].trim();e+=parseInt(t)}),h(".ak-header-cart .count").text(e)},300)})}},newsy.main.init(),window.newsy.auth={xhr:null,captcha:[],headerTitle:null,defaultHeaderTitle:null,show_login:function(t){var e=this;e.defaultHeaderTitle||(e.defaultHeaderTitle=h("#userModal .modal-login-page h3").text()),t&&(e.headerTitle=t),h.magnificPopup.open(Object.assign({items:{src:"#userModal"}},e.popup_config(),{})),e.init_form()},init:function(){var t=h(".menu-login-user-icon");this.show_popup(t)},show_popup:function(t){0<t.length&&t.magnificPopup(this.popup_config())},popup_config:function(){var a=this;return{type:"inline",removalDelay:200,showCloseBtn:!0,midClick:!0,easing:"ease-in-out",callbacks:{beforeOpen:function(){a.headerTitle&&h("#userModal .modal-login-page h3").html(a.headerTitle),this.st.mainClass="mfp-zoom-in",a.init_form()},close:function(){a.defaultHeaderTitle&&(h("#userModal .modal-login-page h3").html(a.defaultHeaderTitle),a.headerTitle=null)},change:function(){var t,e,n;this.content.find(".modal-message").html(""),newsy_loc.enable_recaptcha&&(t=(n=this.content.find(".modal-current-step")).find(".g-recaptcha"),e=n.find("form").data("type"),n=t.data("sitekey"),h(t).hasClass("loaded")?grecaptcha.reset(a.captcha[e]):(a.captcha[e]=grecaptcha.render(t.get(0),{sitekey:n}),h(t).addClass("loaded")))}}}},init_form:function(){var a=this,i=h("#userModal"),o=i.find(".modal-message");i.find(".ak-loading-box").html(newsy_loc.loader_html),i.find("form").each(function(){var n=this;h(n).on("submit",function(t){t.preventDefault(),o.html(""),i.addClass("ak-loading"),null!==a.xhr&&a.xhr.abort(),a.xhr=h.ajax({url:ak_ajax_url,type:"post",dataType:"json",data:h(n).serialize()+"&nonce="+newsy_loc.nonce,success:function(t){var e;h(n).trigger("reset"),i.removeClass("ak-loading"),1===t.success&&(i.find(".modal-step-page").remove(),o.html("<div class='alert alert-success'>"+t.message+"</div>"),1===t.refresh&&(""!==(e=h("#redirect_to").val())?window.location=e:location.reload())),0===t.success&&(o.html("<div class='alert alert-error'>"+t.message+"</div>"),newsy_loc.enable_recaptcha&&(t=h(n).data("type"),grecaptcha.reset(a.captcha[t])))}})})})}},newsy.auth.init(),window.newsy.follow={container:null,init:function(t){var e=this;void 0===t&&(this.container=h("body"));t=h(this.container);t.length&&t.on("click",".friendship-button a, .follow-wrapper a, .follow-button a",function(t){return t.preventDefault(),e.do_action(h(this)),!1})},do_action:function(n){var t,e,a,i,o,s;r?(t=n.parent(),o=n.attr("id"),e=n.attr("href"),s="",a=t.find(".ak-spinner"),i="",s=(o=o.split("-"))[0],o=o[1],e=(e=(e=e.split("?_wpnonce="))[1].split("&"))[0],h.ajax({url:newsy_loc.ajax_url,type:"post",data:{action:"bp_"+s,uid:o,_wpnonce:e},beforeSend:function(){a.length&&(n.css("display","none"),a.css("display","block"))},success:function(t){var e;t.length&&(e=n.attr("class"),i=h(t),e=e.replace(s+" ",""),i.addClass(e))}}).always(function(){n.replaceWith(i),n.css("display",""),a.css("display","none")})):newsy.auth.show_login()}},newsy.follow.init(),window.newsy.post_image_popup={container:null,init:function(t){"no"!==newsy_loc.image_popup&&(this.container=void 0===t?h("body"):t,t=".ak-post-featured a[href$='.jpg'],.ak-post-featured a[href$='.png'],.ak-post-featured a[href$='.bmp'],.ak-post-content > figure > a > img,.ak-post-content .wp-block-image > figure > a > img,.ak-post-content .gallery a[href$='.gif'],.ak-post-content .gallery a[href$='.jpg'],.ak-post-content .gallery a[href$='.png'],.ak-post-content .gallery a[href$='.bmp'],.ak-post-content .wp-block-image a[href$='.gif'],.ak-post-content .wp-block-image a[href$='.jpg'],.ak-post-content .wp-block-image a[href$='.png'],.ak-post-content .wp-block-image a[href$='.bmp'],.ak-post-content .wp-block-gallery a[href$='.gif'],.ak-post-content .wp-block-gallery a[href$='.jpg'],.ak-post-content .wp-block-gallery a[href$='.png'],.ak-post-content .wp-block-gallery a[href$='.bmp']","yes"===newsy_loc.gallery_popup?this.popup_magnitif_single_gallery(t):this.popup_magnitif_normal(t))},expand_magnific:function(t){h(t).magnificPopup({gallery:{enabled:!0},type:"image",closeOnContentClick:!0,closeBtnInside:!1,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",image:{verticalFit:!0,titleSrc:function(t){return"FIGURE"===t.el.parent().prop("tagName")?t.el.parent().find("figcaption").text():t.el.parents(".gallery-item").find(".wp-caption-text").length?t.el.parents(".gallery-item").find(".wp-caption-text").text():t.el.find("img").attr("alt")}}})},expand_magnific_gallery:function(t){this.expand_magnific(t)},popup_magnitif_single_gallery:function(t){var e=[];h(this.container).find(t).each(function(){"IMG"===h(this).prop("tagName")?e.push(h(this).parent().get(0)):e.push(h(this).get(0))}),this.expand_magnific(e)},popup_magnitif_normal:function(t){var e=this;h(e.container).find(t).each(function(){"IMG"===h(this).prop("tagName")?e.expand_magnific(h(this).parent().get(0)):e.expand_magnific(h(this).get(0))})}},window.newsy.counter={xhr:null,init:function(t){void 0===t&&(t=h(".ak-article")),this.do_ajax(t)},do_ajax:function(n){var a={total_view:".ak-post-meta-views .count",total_share:".ak-post-share-top .ak-share-total .counts",total_comment:".ak-post-meta-comment a .count"};this.xhr=h.ajax({url:ak_ajax_url,type:"POST",dataType:"json",data:{action:"ajax_post_counter",post_id:n.data("id"),nonce:newsy_loc.nonce}}).success(function(t){t&&t.counter&&h.each(t.counter,function(t,e){a[t].length&&n.find(a[t]).text(e)})})}},window.newsy.comment={container:null,init:function(t){t=(void 0===t?m:t).find("#comments");t.length&&(this.container=t,(t=h(this.container).find(".ajax_comment_button")).length?this.init_ajax_load(t):this.init_first())},init_ajax_load:function(t){var n=this;t.on("click",function(t){t.preventDefault();var e=this;h(e).hasClass("loading")||(h(e).addClass("loading"),h.ajax({url:ak_ajax_url,type:"post",dataType:"html",data:{action:"ajax_post_comments",post_id:h(n.container).data("id"),nonce:newsy_loc.nonce},success:function(t){h(e).after(t).remove(),n.init_first()}}))})},init_first:function(){var e=this,t=e.container.find(".comment-section").first();e.init_tab(t.data("type")),e.container.find(".comment-tabs>li").on("click",function(t){t.preventDefault();t=h(this);t.hasClass("active")||e.init_tab(t.data("type"))})},init_tab:function(t){var e=this;e.container.find(".comment-tabs>li").removeClass("active"),e.container.find(".comment-section").hide(),e.container.find('.comment-tabs>li[data-type="'+t+'"]').addClass("active");var n=e.container.find('.comment-section[data-type="'+t+'"]');n.show(),n.hasClass("inited")||(e.create(t),n.addClass("inited"))},create:function(t){var e,n,a;"disqus"!==t&&"facebook"!==t||(n=this.container.find('.comment-section[data-type="'+t+'"]').data("app-id"),"disqus"==t?h("#disqus-script").length?DISQUS.reset({reload:!0}):(h("#disqus-script").remove(),(a=document.createElement("script")).id="disqus-script",a.type="text/javascript",a.async=!0,a.src="//"+n+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)):"facebook"==t&&(h("#facebook-jssdk").length?"undefined"!=typeof FB&&FB.XFBML.parse():(e=n?"&appId="+n:"",a=document,t="facebook-jssdk",n=a.getElementsByTagName("script")[0],a.getElementById(t)||((a=a.createElement("script")).id=t,a.src="//connect.facebook.net/"+newsy_loc.lang+"/sdk.js#xfbml=1&version=v2.8"+e,n.parentNode.insertBefore(a,n)))))}},window.newsy.post={init:function(t){void 0===t&&(t=h(".ak-article").first()),newsy.counter.init(t),newsy.post_image_popup.init(t),newsy.comment.init(t),newsy.video&&(newsy.video.init(t),h(t).find('.wp-block-video video[src$=".gif"]').length&&h(t).find('.wp-block-video video[src$=".gif"]').each(function(){newsy.video.init_gif(this,".wp-block-video")}))}},window.newsy.post_sticky={init:function(t){void 0===t&&(t=h(".ak-article")),h(".ak-sticky-bar").append('<div class="ak-post-progress-bar"><span class="progress-bar"></span></div>'),this.init_header_sticky(t),this.init_sticky_items(t)},init_header_sticky:function(t){var n,a;h(t).length&&(n=h(t).position().top,0<(a=h(".ak-post-sticky-wrap")).length&&(t=_debounce(function(){var t=a.find(".ak-sticky-bar"),e=h(window).scrollTop();n<e?(t.addClass("sticky-active"),t.css("max-width",h(a).outerWidth(!0)+"px")):t.removeClass("sticky-active")},5),c.on("scroll",t)))},init_sticky_items:function(t){var e=h(".ak-post-sticky-share .ak-share-container"),n=h(".ak-post-sticky-title"),a=h(".ak-post-title",t).text(),i=h(".ak-post-share-top",t).find(".ak-share-list > .ak-share-button:not(.ak-share-toggle-button)").clone();n.text(a),e.html("").append(i),newsy.share&&newsy.share.init(e),this.init_progress_bar(t)},init_progress_bar:function(o){var t,s=h(".ak-post-progress-bar");0<s.length&&(t=_debounce(function(){var t=h(o).height(),e=.8*h(window).height(),n=h(window).scrollTop(),a=h(o).offset().top,i=e-a+n,n=0;t+a<e?s.find(".progress-bar").width(0):(t<i?n=100:0<i&&(n=i/t*100),s.find(".progress-bar").width(n+"%"))},10,!0),c.on("scroll",t),c.on("resize",t))}},m.hasClass("single")&&(newsy.post.init(),newsy.post_sticky.init()),window.newsy.autoload={xhr:null,current_url:window.location.href,init:function(){this.xhr=null,this.content_container=".ak-post-wrapper",this.inline_container=".content-column",this.content_wrap=".ak-auto-load-posts",this.content_loading=h(".ak-auto-load-loading"),this.content_class=".ak-article",this.init_autoload_posts()},init_autoload_posts:function(){var e=this;h(e.content_class).each(function(){h(this).hasClass("autoload-initted")||(h(this).addClass("autoload-initted"),h(this).waypoint(function(t){"down"===t&&(e.init_current_post(this.element,t),e.ajax(this.element))},{offset:"0%",context:window}),h(this).waypoint(function(t){"up"===t&&e.init_current_post(this.element,t)},{offset:"bottom-in-view",context:window}))})},init_current_post:function(t,e){var n=h(t),a=n.data("url"),i=n.data("title");n.data("id");if(this.current_url!==a){this.current_url=a;try{history&&history.pushState&&(history.pushState(null,i,a),document.title=i)}catch(t){console.log(t)}newsy.post_sticky.init_sticky_items(t)}},ajax:function(t){var e,n,a,i;this.xhr||(e=this,n=h(t).hasClass("autoload-loaded"),a=h(t).data("autoload"),i=h(t).data("template"),n||null!==e.xhr||(h(t).addClass("autoload-loaded"),e.handle_loading(!0),e.xhr=h.ajax({url:ak_ajax_url,type:"POST",dataType:"json",data:{nonce:newsy_loc.nonce,action:"ajax_post_autoload",post_id:a,template:i}}).success(function(t){e.handle_response(t)}).always(function(){e.xhr=null,e.handle_loading(!1)})))},handle_response:function(t){var e,n=this;n.handle_loading(!1),t.success&&(e=t.inline?h(n.inline_container):h(n.content_container),""!==t.html&&(e.append(t.html),e=e.find(".ak-article").last(),newsy.main.init_sticky_columns(),newsy.post.init(e),h(document).trigger("newsy-ajax-load",e),n.init_autoload_posts(),n.xhr=null))},handle_loading:function(t){t?h(this.content_container).append('<div class="ak-autoload-loading">'+newsy_loc.loader_html+"</div>"):h(".ak-autoload-loading").remove()}},m.hasClass("ak-post-autoload")&&newsy.autoload.init()}(jQuery),function(){for(var t,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],a=n.length,i=window.console=window.console||{};a--;)i[t=n[a]]||(i[t]=e)}();